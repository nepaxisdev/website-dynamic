// -----------------------------------------------------------------------------
// This file contains all styles related to the button component.
// -----------------------------------------------------------------------------
@use '../abstracts/mixins' as mxn;
@use '../abstracts/interfaces' as *;

[class*='btn-'] {
	--_pad-x: var(--set-button-padding-x);
	--_pad-y: var(--set-button-padding-y);
	--_radius: var(--set-button-radius);
	--_gap: var(--set-button-gap);
	--_color: var(--button-color);
	--_background: var(--button-background);
	--_hov-color: var(--button-hover-color);
	--_hov-background: var(--button-hover-background);
	--_transition: var(--set-ui-transition-time);
	--_focus-shadow: var(--set-ui-focus-shadow);
	--_active-shadow-color: var(--set-button-active-shadow-color);
	--_transform: var(--set-button-text-transform);
	--_size: var(--set-button-font-size);
	background-color: var(--_background);
	padding-block: var(--_pad-y);
	padding-inline: var(--_pad-x);
	color: var(--_color);
	border-radius: var(--_radius);
	transition: background-color var(--_transition) ease-out;
	text-transform: var(--_transform);
	font-size: var(--_size);
	display: block;
	inline-size: fit-content;
	flex-shrink: 0;
	&:hover {
		background-color: var(--_hov-background, --_background);
		color: var(--_hov-color, --_color);
		transition:
			background-color var(--_transition) ease-out,
			color var(--_transition) ease-out;
		font-size: var(--_size);
	}

	&:focus {
		background-color: var(--_background);
		color: var(--_color);
		transition:
			background-color var(--_transition) ease-out,
			color var(--_transition) ease-out;
		font-size: var(--_size);
	}
	&:active {
		background-color: var(--_hov-background, --_background);
		box-shadow: inset 0 0 10px var(--_active-shadow-color);
		transition:
			background-color var(--_transition) ease-out,
			color var(--_transition) ease-out,
			box-shadow var(--_transition) ease-out;
		font-size: var(--_size);
	}

	&.btn--outline {
		--_background: transparent;
		--_hov-background: hsl(from var(--button-background) h s l / 10%);
		--_color: var(--button-background);
		border: 1px solid hsl(from var(--button-background) h s l / 25%);
		color: var(--button-background);
		position: relative;
		overflow: hidden;

		&:hover {
			&:before {
				transform: translate(-50%, -50%) scale(2);
				transition: transform var(--_transition) ease-out;
			}
		}
	}
	&:disabled,
	&.disabled,
	&[disabled] {
		opacity: 0.5;
		pointer-events: none !important;
		user-select: none;
	}
}

.btn {
	&__wrapper {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: var(--_gap);
		inline-size: 100%;
	}
	&__text {
		display: inline-block;
		color: var(--_color);
		text-align: center;
		font-size: var(--_size);
		font-weight: 600;
		font-family: 'Space Grotesk', sans-serif;
		letter-spacing: 0.04em;
		white-space: nowrap;
		// margin-block-start: -0.2em; // compensating for leading differences
	}
	&__icon {
		display: flex;
		padding: 0 !important;
		aspect-ratio: 1;
		align-items: center;
		justify-content: center;
		border-radius: 100%;

		svg {
			inline-size: var(--icon-size, 1.5rem);
		}
		&.btn {
			&--md {
				--icon-size: 1.125rem;
				inline-size: 4rem;
			}
			&--sm {
				inline-size: 3rem;
				--icon-size: 1rem;
			}
			&--lg {
				--icon-size: 1.25rem;
				inline-size: 5rem;
			}
		}
	}
	&--loading {
		pointer-events: none;

		.btn__icon {
			animation: loading 3s linear infinite;
			transform-origin: center center;
			opacity: 0;
		}
		.btn__text {
			// color: transparent;
			position: relative;

			// &:after {
			// 	position: absolute;
			// 	inset: 0;
			// 	inline-size: 100%;
			// 	height: 100%;
			// 	color: var(--_color);
			// 	padding: inherit;
			// 	content: "Loading...";
			// }
			// content: "Loading";
		}

		background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='margin: auto; background: none; display: block; shape-rendering: auto;' inline-size='20px' height='20px' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'%3E%3Ccircle cx='50' cy='50' fill='none' stroke='%23ffffff' stroke-inline-size='7' r='35' stroke-dasharray='164.93361431346415 56.97787143782138'%3E%3CanimateTransform attributeName='transform' type='rotate' repeatCount='indefinite' dur='1.1764705882352942s' values='0 50 50;360 50 50' keyTimes='0;1'/%3E%3C/circle%3E%3C!-- %5Bldio%5D generated by https://loading.io/ --%3E%3C/svg%3E");
		background-position: calc(100% - var(--_pad-x)) 50%;
		background-repeat: no-repeat;
		opacity: 0.8;
	}
	&--icon {
		--icon-size: 2rem;
		--_btn-size: 2rem;
		--_radius: var(--set-icon-radius, --set-button-radius);
		aspect-ratio: 1;
		padding: 0;
		display: flex;
		align-items: center;
		justify-content: center;
		inline-size: var(--_btn-size, 1rem);
		border-radius: var(--_radius);
		svg {
			inline-size: var(--icon-size, 1rem);
		}

		&.btn {
			&--sm {
				--_btn-size: 0.875rem;
				--icon-size: 0.875rem;
			}
			&--md {
				--icon-size: 2rem;
				--_btn-size: 2rem;
			}
			&--lg {
				--_btn-size: 3rem;
				--icon-size: 3rem;
			}
		}
	}

	&--primary {
		--button-background: var(--clr-primary-300);
		--button-color: var(--clr-neutral-700);
		--button-hover-background: var(--clr-primary-200);
		--button-hover-color: var(--clr-neutral-1000);
	}
	&--black {
		--button-background: var(--clr-neutral-700);
		--button-color: var(--clr-neutral-100);
		--button-hover-background: var(--clr-neutral-600);
		--button-hover-color: var(--clr-neutral-100);
	}

	&--just {
		--button-background: transparent;
		--button-color: var(--clr-neutral-400);
		--button-hover-background: var(--clr-neutral-600);
		--button-hover-color: var(--clr-neutral-300);
	}
	&--ghost {
		--button-background: transparent;
		--button-color: var(--clr-neutral-300);
		--button-hover-background: hsl(from var(--clr-neutral-100) h s l / 10%);
		--button-hover-color: var(--clr-neutral-100);
	}

	&--accent {
		--button-background: var(--clr-accent-300);
		--button-color: var(--clr-neutral-700);
		--button-hover-background: var(--clr-accent-200);
		--button-hover-color: var(--clr-neutral-1000);
	}
	&--white {
		--button-color: var(--clr-dark-700);
		--button-background: var(--clr-neutral-100);
		--button-hover-background: var(--clr-dark-200);
		--button-hover-color: var(--clr-neutral-1000);
	}

	&--link {
		--_pad-x: 0;
		--_background: transparent;
		--_hov-background: transparent;
		--_hov-color: var(--button-hover-background);
		--_color: var(--button-background);
		--_radius: 0;

		border-block-end: 1px solid var(--button-background);
		&:has(.btn__icon) {
			--_pad-y: calc(var(--set-button-padding-y) - 0.25em);
		}
	}
	&--thin {
		--set-button-padding-y: 0.5em;
		--_size: 0.875rem;
	}
	&--round {
		--_radius: 100vmax;
	}
	&--wider {
		--_pad-x: 2rem;
	}
	&--narrow {
		--_gap: 0.125rem;
		--_pad-x: max(calc(var(--set-button-padding-x) / 2), 1rem);
	}
	&--large {
		--_pad-y: 1em;
	}
	&--full {
		inline-size: 100%;
		--_size: 2.5rem;
		--_pad-y: 1em;

		@include mxn.media-x(1400px) {
			--_size: 1.5rem;
		}
	}
	&--small {
		--_size: 0.875rem;
	}

	&--nav {
		--button-color: var(--clr-neutral-100);
		--button-hover-background: transparent;
		--button-hover-color: var(--clr-neutral-120);
	}
	@include mxn.reset-button;
}

// .swiper {
// 	&__button {
// 		position: absolute;
// 		z-index: 9;
// 		top: 50%;
// 		transform: translateY(-50%);
// 		background-color: transparent;
// 		border: none;
// 		inline-size: fit-content;
// 		outline: none;
// 		color: var(--set-default-color);

// 		&.swiper-button-disabled,
// 		&.swiper-button-lock {
// 			pointer-events: none;
// 			opacity: 0.2;
// 		}

// 		.btn {
// 			&__wrapper {
// 				align-items: center;
// 				gap: 0.25rem;
// 				inline-size: fit-content;
// 			}
// 			&__text {
// 				font-weight: 400;
// 				line-height: 90%; /* 0.84375rem */
// 				letter-spacing: 0.28125rem;
// 				text-transform: uppercase;
// 				padding-block-start: 0.3em;
// 				font-kerning: none;
// 				font-feature-settings: "liga" 0;
// 			}
// 			&__icon {
// 				inline-size: 2rem;
// 				aspect-ratio: 1;
// 				border-radius: 100%;
// 				display: flex;
// 				@extend %fc;
// 			}
// 		}

// 		&:active,
// 		&:focus {
// 			.btn__icon {
// 				animation: pulse 0.2s ease-out;
// 				transform-origin: center center;
// 			}
// 		}
// 	}
// 	&--next {
// 		right: 2rem;

// 		.btn {
// 			&__icon {
// 				transform: translateX(-20%);
// 				transition: transform 0.2s cubic-bezier(0.91, 0.3, 0.9, 1),
// 					background-color 0.3s ease-in, color 0.3s ease-in;
// 			}
// 		}

// 		&:hover {
// 			.btn {
// 				&__icon {
// 					color: var(--clr-dark-500);
// 					background-color: white;
// 					transform: translateX(0);
// 					transition: transform 0.2s cubic-bezier(0.91, 0.3, 0.9, 1),
// 						background-color 0.3s ease-in, color 0.3s ease-in;
// 				}
// 			}
// 		}
// 	}
// 	&--prev {
// 		left: 2rem;
// 		.btn {
// 			&__icon {
// 				transform: translateX(10%);
// 				transition: transform 0.2s cubic-bezier(0.91, 0.3, 0.9, 1),
// 					background-color 0.3s ease-in, color 0.3s ease-in;
// 			}
// 		}
// 		&:hover {
// 			.btn {
// 				&__icon {
// 					transform: translateX(0);
// 					color: var(--clr-dark-500);
// 					background-color: white;
// 					transition: transform 0.2s cubic-bezier(0.91, 0.3, 0.9, 1),
// 						background-color 0.3s ease-in, color 0.3s ease-in;
// 				}
// 			}
// 		}
// 	}
// 	&--fl {
// 		min-inline-size: 15rem;
// 		.btn__wrapper {
// 			justify-content: space-between;
// 		}
// 	}
// }

@keyframes pulse {
	50% {
		scale: 0.95;
	}
	100% {
		scale: 1;
	}
}

@keyframes loading {
	to {
		transform: rotate(360deg);
	}
}
