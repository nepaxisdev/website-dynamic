@use '../abstracts/mixins' as *;
@use '../base/helpers/type-helper' as *;
@use '../base/base' as *;
@use '../abstracts/interfaces' as *;
@use '../base/helpers/spacing-helper' as *;

.article {
	&-content {
		--padding-inline: 1rem;
		--content-max-width: 60ch;
		--breakout-max-width: 85ch;
		--breakout-size: calc((var(--breakout-max-width) - var(--content-max-width)) / 2);
		display: grid;
		grid-template-columns:
			[fullwidth-start] minmax(var(--padding-inline), 1fr)
			[breakout-start] minmax(0, var(--breakout-size))
			[content-start]
			min(100% - (var(--padding-inline) * 2), var(--content-max-width))
			[content-end]
			minmax(0, var(--breakout-size))
			[breakout-end] minmax(var(--padding-inline), 1fr) [fullwidth-end];

		& > * {
			grid-column: content-start / breakout-end;
			margin-block-end: 1rem;
		}
		& li > ul,
		& li > ol {
			margin-inline-start: 1.5rem;
		}

		hr {
			border-color: var(--clr-neutral-600);
		}
		strong {
			font-weight: 600;
		}

		strong,
		em,
		i,
		b {
			color: var(--clr-neutral-100);
		}
	}
	&__image {
		object-fit: cover;
	}
}

.content {
	&-image {
		grid-column: breakout-start / breakout-end;
		background-color: var(--clr-dark-500);
		border-radius: 2rem;

		img {
			inline-size: 100%;
			background-color: var(--clr-dark-500);
			border-radius: 2rem;
		}
	}
	&-element {
		letter-spacing: 0.02em;
		color: var(--clr-neutral-200);
	}
	&-heading {
		text-transform: unset;
	}
	&-code {
		background-color: var(--clr-neutral-600);
		padding: 1rem;
		border-radius: 1rem;
		font-family: 'Space Mono', monospace;
		margin-block-end: 1.5rem;
		&-inline {
			padding: 0.25em 0.5em;
			background-color: var(--clr-neutral-600);
			border-radius: 0.5em;
		}
	}
	&-blockquote {
		border-left: 4px solid var(--clr-neutral-500);
		padding-inline-start: 1em;
		color: var(--clr-neutral-300);
		font-size: 1rem;
		font-style: oblique;
	}
	&-link {
		--underline-color: var(--clr-accent-300);
		--color: var(--clr-neutral-100);
		position: relative;
		color: var(--color);
		font-weight: 500;

		&:after {
			content: '';
			inline-size: 100%;
			block-size: 1px;
			background-color: var(--underline-color);
			display: block;
			position: absolute;
			inset-inline: 0;
			inset-block-end: 0;
			transition: ease 0.2s;
		}

		&:hover {
			--underline-color: var(--clr-accent-400);
			--color: var(--clr-neutral-300);
		}
	}

	&-element {
		&:is(p) {
			line-height: 200%;
		}
	}

	&-table {
		grid-column: breakout-start / breakout-end;
		max-inline-size: 100%;
		inline-size: 100%;
		border-radius: 1rem;
		border: 1px solid var(--clr-neutral-600);
		border-collapse: collapse;
		margin-block-end: 2rem;

		&-row {
			&:not(:last-child) {
				border-block-end: 1px solid var(--clr-neutral-600);
			}
		}

		&--stripe-row {
			tr:nth-child(odd) {
				background-color: hsl(from var(--clr-dark-600) h s l / 20%);
			}
		}
		&-cell {
			padding: 0.5em;
			text-align: center;
			&-head {
				font-size: 0.75rem;
				font-weight: 600;
				letter-spacing: 0.05em;
				text-transform: uppercase;
				background-color: hsl(from var(--clr-dark-600) h s l / 50%);
			}
		}
	}

	&-list {
		&-item {
			&::marker {
				color: var(--clr-accent-300);
				font-family: 'Space Mono', monospace;
			}
			margin-block: 0.35em;
			&.checklist {
				position: relative;
				--_checkbox-width: 1rem;
				display: flex;
				align-items: center;
				&:before {
					content: '';
					display: inline-block;
					margin-inline-end: 0.5rem;
					inset-inline-start: 0;
					inset-block-start: 0;
					aspect-ratio: 1;
					border-radius: 0.1rem;
					inline-size: var(--_checkbox-width);
					border: 1px solid var(--clr-neutral-500);
					background-color: var(--clr-neutral-600);
				}

				&.checklist-toggled {
					&:before {
						background-image: url("data:image/svg+xml,%3csvg width='24' height='24' fill='%23cbe896' viewBox='0 0 24 24' transform='' xmlns='http://www.w3.org/2000/svg'%3e%3c!--Boxicons v3.0.8 https://boxicons.com %7c License https://docs.boxicons.com/free--%3e%3cpath d='M9 15.59 4.71 11.3 3.3 12.71l5 5c.2.2.45.29.71.29s.51-.1.71-.29l11-11-1.41-1.41L9.02 15.59Z'%3e%3c/path%3e%3c/svg%3e");
						background-size: 100% 100%;
						background-position: center;
						background-repeat: no-repeat;
					}
				}
			}
			&:has(ul),
			&:has(ol) {
				&::marker {
					content: '';
				}
			}
			& > ul {
				list-style-type: circle;
				& > ul {
					list-style-type: lower-roman;
				}
			}

			& > ol {
				list-style-type: lower-alpha;

				& > ol {
					list-style-type: lower-roman;
				}
			}
		}
	}
}

.align {
	&-center {
		text-align: center;
	}
	&-left {
		text-align: left;
	}
	&-justify {
		text-align: justify;
	}
	&-right {
		text-align: right;
	}
}
